python -m venv env

env/Scripts/activate

pip install fastapi

pip install "fastapi[standard]"

or: pip install uvicorn

fastapi --help

fastapi dev
fastapi dev main.py


// When Using the new structure
fastapi dev src/

pip freeze > requirements.txt

psql 'postgresql://neondb_owner:npg_8JDGLEIKH3nr@ep-small-rain-a115is8r-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require'

pip install asyncpg

pip install pydantic-settings

pip install sqlmodel

pip install alembic

alembic init -t async migrations

alembic revision --autogenerate -m "init"

alembic upgrade head

alembic revision --autogenerate -m "add password hash"

alembic upgrade head

pip install passlib

pip install pyjwt

pip install aioredis

pip install setuptools

redis-server

alembic revision --autogenerate -m 'Add roles to users'

alembic upgrade head

alembic revision --autogenerate -m 'relate users to books'

alembic upgrade head

alembic revision --autogenerate -m 'add review table'

alembic upgrade head

alembic revision --autogenerate -m 'tags'

alembic upgrade head

pip install fastapi-mail

pip install itsdangerous

pip install celery

pip install asgiref

celery -A src.celery_tasks.c_app worker 

**or if that did not work:**

celery -A src.celery_tasks worker --loglevel=info --pool=solo

**For production: **
celery -A src.celery_tasks worker --loglevel=info --pool=prefork

pip install flower

celery -A src.celery_tasks.c_app flower

pip install pytest

pytest

**To access the schema: **
localhost:8000/api/v1/openapi.json

pip install schemathesis

-- st
-- schemathesis

st run localhost:8000/api/v1/openapi.json
or:
st run localhost:8000/api/v1/openapi.json --experimental=openapi-3.3
or:
schemathesis run http://localhost:8000/api/v1/openapi.json

schemathesis run http://localhost:8000/api/v1/openapi.json --checks all

**For production: **
fastapi run src/
